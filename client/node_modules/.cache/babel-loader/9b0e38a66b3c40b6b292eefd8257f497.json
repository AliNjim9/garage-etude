{"ast":null,"code":"var _jsxFileName = \"C:\\\\garage-etude\\\\client\\\\src\\\\components\\\\options\\\\Options.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { Input, Button, Tooltip, Modal, message } from \"antd\";\nimport Phone from \"../../assests/phone.gif\";\nimport Teams from \"../../assests/teams.mp3\";\nimport * as classes from \"./Options.module.css\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport VideoContext from \"../../context/VideoContext\";\nimport Hang from \"../../assests/hang.svg\";\nimport { TwitterIcon, TwitterShareButton, WhatsappShareButton, WhatsappIcon, FacebookIcon, FacebookShareButton } from \"react-share\";\nimport { UserOutlined, CopyOutlined, InfoCircleOutlined, PhoneOutlined } from \"@ant-design/icons\";\nimport { socket } from \"../../context/VideoState\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Options = () => {\n  _s();\n\n  const [idToCall, setIdToCall] = useState(\"\");\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const Audio = useRef();\n  const {\n    call,\n    callAccepted,\n    myVideo,\n    userVideo,\n    stream,\n    name,\n    setName,\n    callEnded,\n    me,\n    callUser,\n    leaveCall,\n    answerCall,\n    otherUser,\n    setOtherUser,\n    leaveCall1\n  } = useContext(VideoContext);\n  useEffect(() => {\n    var _Audio$current2;\n\n    if (isModalVisible) {\n      var _Audio$current;\n\n      Audio === null || Audio === void 0 ? void 0 : (_Audio$current = Audio.current) === null || _Audio$current === void 0 ? void 0 : _Audio$current.play();\n    } else Audio === null || Audio === void 0 ? void 0 : (_Audio$current2 = Audio.current) === null || _Audio$current2 === void 0 ? void 0 : _Audio$current2.pause();\n  }, [isModalVisible]);\n\n  const showModal = showVal => {\n    setIsModalVisible(showVal);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    leaveCall1();\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    if (call.isReceivingCall && !callAccepted) {\n      setIsModalVisible(true);\n      setOtherUser(call.from);\n    } else setIsModalVisible(false);\n  }, [call.isReceivingCall]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.options,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"0.5rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Account Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        size: \"large\",\n        placeholder: sessionStorage.getItem('user', user.result.firstname + ' ' + user.result.lastname),\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }, this),\n        maxLength: 15,\n        suffix: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [name.length, \"/15\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }, this),\n        value: name,\n        onChange: e => {\n          setName(e.target.value);\n          localStorage.setItem(\"name\", e.target.value);\n        },\n        className: classes.inputgroup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.share_options,\n        children: [/*#__PURE__*/_jsxDEV(CopyToClipboard, {\n          text: me,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(CopyOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this),\n            className: classes.btn,\n            tabIndex: \"0\",\n            onClick: () => message.success(\"Code copied successfully!\"),\n            children: \"Copy code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.share_social,\n          children: [/*#__PURE__*/_jsxDEV(WhatsappShareButton, {\n            url: `https://github.com/AliNjim9/garage-etude.git`,\n            title: `Join this meeting with the given code \"${me}\"\\n`,\n            separator: \"Link: \",\n            className: classes.share_icon,\n            children: /*#__PURE__*/_jsxDEV(WhatsappIcon, {\n              size: 26,\n              round: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FacebookShareButton, {\n            url: `https://github.com/AliNjim9/garage-etude.git`,\n            title: `Join this meeting with the given code \"${me}\"\\n`,\n            className: classes.share_icon,\n            children: /*#__PURE__*/_jsxDEV(FacebookIcon, {\n              size: 26,\n              round: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TwitterShareButton, {\n            url: `https://github.com/AliNjim9/garage-etude.git`,\n            title: `Join this meeting with the given code  \"${me}\"\\n`,\n            className: classes.share_icon,\n            children: /*#__PURE__*/_jsxDEV(TwitterIcon, {\n              size: 26,\n              round: true,\n              className: classes.share_border\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"0.5rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Make a call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Enter code to call\",\n        size: \"large\",\n        className: classes.inputgroup,\n        value: idToCall,\n        onChange: e => setIdToCall(e.target.value),\n        style: {\n          marginRight: \"0.5rem\",\n          marginBottom: \"0.5rem\"\n        },\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n          className: \"site-form-item-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }, this),\n        suffix: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Enter code of the other user\",\n          children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n            style: {\n              color: \"rgba(0,0,0,.45)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), callAccepted && !callEnded ? /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: leaveCall,\n        className: classes.hang,\n        tabIndex: \"0\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: Hang,\n          alt: \"hang up\",\n          style: {\n            height: \"15px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), \"\\xA0 Hang up\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        icon: /*#__PURE__*/_jsxDEV(PhoneOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 19\n        }, this),\n        onClick: () => {\n          if (name.length) callUser(idToCall);else message.error(\"Please enter your name to call!\");\n        },\n        className: classes.btn,\n        tabIndex: \"0\",\n        children: \"Call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), call.isReceivingCall && !callAccepted && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n        src: Teams,\n        loop: true,\n        ref: Audio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Incoming Call\",\n        visible: isModalVisible,\n        onOk: () => showModal(false),\n        onCancel: handleCancel,\n        footer: null,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-around\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [call.name, \" is calling you:\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: Phone,\n              alt: \"phone ringing\",\n              className: classes.phone,\n              style: {\n                display: \"inline-block\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.btnDiv,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            className: classes.answer,\n            color: \"#29bb89\",\n            icon: /*#__PURE__*/_jsxDEV(PhoneOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 23\n            }, this),\n            onClick: () => {\n              answerCall();\n              Audio.current.pause();\n            },\n            tabIndex: \"0\",\n            children: \"Answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            className: classes.decline,\n            icon: /*#__PURE__*/_jsxDEV(PhoneOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 23\n            }, this),\n            onClick: () => {\n              setIsModalVisible(false);\n              Audio.current.pause();\n            },\n            tabIndex: \"0\",\n            children: \"Decline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Options, \"Ry2HY4AzKK7dHLv435Y3sxqdHug=\");\n\n_c = Options;\nexport default Options;\n\nvar _c;\n\n$RefreshReg$(_c, \"Options\");","map":{"version":3,"sources":["C:/garage-etude/client/src/components/options/Options.js"],"names":["React","useState","useContext","useEffect","useRef","Input","Button","Tooltip","Modal","message","Phone","Teams","classes","CopyToClipboard","VideoContext","TwitterIcon","TwitterShareButton","WhatsappShareButton","WhatsappIcon","FacebookIcon","FacebookShareButton","UserOutlined","CopyOutlined","InfoCircleOutlined","PhoneOutlined","socket","Options","idToCall","setIdToCall","user","setUser","JSON","parse","localStorage","getItem","isModalVisible","setIsModalVisible","Audio","call","callAccepted","myVideo","userVideo","stream","name","setName","callEnded","me","callUser","leaveCall","answerCall","otherUser","setOtherUser","leaveCall1","current","play","pause","showModal","showVal","handleCancel","window","location","reload","isReceivingCall","from","options","marginBottom","sessionStorage","result","firstname","lastname","length","e","target","value","setItem","inputgroup","share_options","btn","success","share_social","share_icon","share_border","marginRight","color","hang","Hang","height","error","display","justifyContent","phone","btnDiv","answer","decline"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { Input, Button, Tooltip, Modal, message } from \"antd\";\nimport Phone from \"../../assests/phone.gif\";\nimport Teams from \"../../assests/teams.mp3\";\nimport * as classes from \"./Options.module.css\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport VideoContext from \"../../context/VideoContext\";\nimport Hang from \"../../assests/hang.svg\";\nimport {\n  TwitterIcon,\n  TwitterShareButton,\n  WhatsappShareButton,\n  WhatsappIcon,\n  FacebookIcon,\n  FacebookShareButton,\n} from \"react-share\";\nimport {\n  UserOutlined,\n  CopyOutlined,\n  InfoCircleOutlined,\n  PhoneOutlined,\n} from \"@ant-design/icons\";\nimport { socket } from \"../../context/VideoState\";\n\nconst Options = () => {\n  const [idToCall, setIdToCall] = useState(\"\");\n  \n  const [user,setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const Audio = useRef();\n  const {\n    call,\n    callAccepted,\n    myVideo,\n    userVideo,\n    stream,\n    name,\n    setName,\n    callEnded,\n    me,\n    callUser,\n    leaveCall,\n    answerCall,\n    otherUser,\n    setOtherUser,\n    leaveCall1,\n  } = useContext(VideoContext);\n\n  useEffect(() => {\n    if (isModalVisible) {\n      Audio?.current?.play();\n    } else Audio?.current?.pause();\n  }, [isModalVisible]);\n\n  const showModal = (showVal) => {\n    setIsModalVisible(showVal);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    leaveCall1();\n    window.location.reload();\n  };\n  useEffect(() => {\n    if (call.isReceivingCall && !callAccepted) {\n      setIsModalVisible(true);\n      setOtherUser(call.from);\n    } else setIsModalVisible(false);\n  }, [call.isReceivingCall]);\n\n  return (\n    <div className={classes.options}>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Account Info</h2>\n        <Input\n          size=\"large\"\n          placeholder={sessionStorage.getItem('user',user.result.firstname + ' ' + user.result.lastname)}\n          prefix={<UserOutlined />}\n          maxLength={15}\n          suffix={<small>{name.length}/15</small>}\n          value={name}\n          onChange={(e) => {\n            setName(e.target.value);\n            localStorage.setItem(\"name\", e.target.value);\n          }}\n          className={classes.inputgroup}\n        />\n\n        <div className={classes.share_options}>\n          <CopyToClipboard text={me}>\n            <Button\n              type=\"primary\"\n              icon={<CopyOutlined />}\n              className={classes.btn}\n              tabIndex=\"0\"\n              onClick={() => message.success(\"Code copied successfully!\")}\n            >\n              Copy code\n            </Button>\n          </CopyToClipboard>\n\n          <div className={classes.share_social}>\n            <WhatsappShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code \"${me}\"\\n`}\n              separator=\"Link: \"\n              className={classes.share_icon}\n            >\n              <WhatsappIcon size={26} round />\n            </WhatsappShareButton>\n            <FacebookShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code \"${me}\"\\n`}\n              className={classes.share_icon}\n            >\n              <FacebookIcon size={26} round />\n            </FacebookShareButton>\n            <TwitterShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code  \"${me}\"\\n`}\n              className={classes.share_icon}\n            >\n              <TwitterIcon size={26} round className={classes.share_border} />\n            </TwitterShareButton>\n          </div>\n        </div>\n      </div>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Make a call</h2>\n\n        <Input\n          placeholder=\"Enter code to call\"\n          size=\"large\"\n          className={classes.inputgroup}\n          value={idToCall}\n          onChange={(e) => setIdToCall(e.target.value)}\n          style={{ marginRight: \"0.5rem\", marginBottom: \"0.5rem\" }}\n          prefix={<UserOutlined className=\"site-form-item-icon\" />}\n          suffix={\n            <Tooltip title=\"Enter code of the other user\">\n              <InfoCircleOutlined style={{ color: \"rgba(0,0,0,.45)\" }} />\n            </Tooltip>\n          }\n        />\n\n        {callAccepted && !callEnded ? (\n          <Button\n            variant=\"contained\"\n            onClick={leaveCall}\n            className={classes.hang}\n            tabIndex=\"0\"\n          >\n            <img src={Hang} alt=\"hang up\" style={{ height: \"15px\" }} />\n            &nbsp; Hang up\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            icon={<PhoneOutlined />}\n            onClick={() => {\n              if (name.length) callUser(idToCall);\n              else message.error(\"Please enter your name to call!\");\n            }}\n            className={classes.btn}\n            tabIndex=\"0\"\n          >\n            Call\n          </Button>\n        )}\n      </div>\n\n      {call.isReceivingCall && !callAccepted && (\n        <>\n          <audio src={Teams} loop ref={Audio} />\n          <Modal\n            title=\"Incoming Call\"\n            visible={isModalVisible}\n            onOk={() => showModal(false)}\n            onCancel={handleCancel}\n            footer={null}\n          >\n            <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n              <h1>\n                {call.name} is calling you:{\" \"}\n                <img\n                  src={Phone}\n                  alt=\"phone ringing\"\n                  className={classes.phone}\n                  style={{ display: \"inline-block\" }}\n                />\n              </h1>\n            </div>\n            <div className={classes.btnDiv}>\n              <Button\n                variant=\"contained\"\n                className={classes.answer}\n                color=\"#29bb89\"\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  answerCall();\n                  Audio.current.pause();\n                }}\n                tabIndex=\"0\"\n              >\n                Answer\n              </Button>\n              <Button\n                variant=\"contained\"\n                className={classes.decline}\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  setIsModalVisible(false);\n                  Audio.current.pause();\n                }}\n                tabIndex=\"0\"\n              >\n                Decline\n              </Button>\n            </div>\n          </Modal>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Options;\n"]},"metadata":{},"sourceType":"module"}
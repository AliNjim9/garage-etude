{"ast":null,"code":"import _toConsumableArray from\"C:/garage-etude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/garage-etude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState,useRef}from\"react\";import VideoContext from\"../../context/VideoContext\";import\"./Video.css\";import{Modal,Input,notification,Avatar}from\"antd\";import VideoIcon from\"../../assests/video.svg\";import VideoOff from\"../../assests/video-off.svg\";import Msg_Illus from\"../../assests/msg_illus.svg\";import Msg from\"../../assests/msg.svg\";import ScreenShare from\"../../assests/share_screen.svg\";import{UserOutlined,MessageOutlined}from\"@ant-design/icons\";import{socket}from\"../../context/VideoState\";// const socket = io()\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=Input.Search;var Video=function Video(){var _useContext=useContext(VideoContext),call=_useContext.call,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,stream=_useContext.stream,name=_useContext.name,callEnded=_useContext.callEnded,sendMsgFunc=_useContext.sendMsg,msgRcv=_useContext.msgRcv,chat=_useContext.chat,setChat=_useContext.setChat,userName=_useContext.userName,myVdoStatus=_useContext.myVdoStatus,fullScreen=_useContext.fullScreen,handleScreenSharing=_useContext.handleScreenSharing,userVdoStatus=_useContext.userVdoStatus,updateVideo=_useContext.updateVideo,myMicStatus=_useContext.myMicStatus,userMicStatus=_useContext.userMicStatus,updateMic=_useContext.updateMic;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),sendMsg=_useState2[0],setSendMsg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalVisible=_useState4[0],setIsModalVisible=_useState4[1];socket.on(\"msgRcv\",function(_ref){var name=_ref.name,value=_ref.msg,sender=_ref.sender;var msg={};msg.msg=value;msg.type=\"rcv\";msg.sender=sender;msg.timestamp=Date.now();setChat([].concat(_toConsumableArray(chat),[msg]));});var dummy=useRef();useEffect(function(){if(dummy===null||dummy===void 0?void 0:dummy.current)dummy.current.scrollIntoView({behavior:\"smooth\"});},[chat]);var showModal=function showModal(showVal){setIsModalVisible(showVal);};var onSearch=function onSearch(value){if(value&&value.length)sendMsgFunc(value);setSendMsg(\"\");};useEffect(function(){if(msgRcv.value&&!isModalVisible){notification.open({message:\"\",description:\"\".concat(msgRcv.sender,\": \").concat(msgRcv.value),icon:/*#__PURE__*/_jsx(MessageOutlined,{style:{color:\"#108ee9\"}})});}},[msgRcv]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[stream?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},className:\"card\",id:callAccepted&&!callEnded?\"video1\":\"video3\",children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"2rem\"},children:/*#__PURE__*/_jsx(\"h3\",{children:myVdoStatus&&name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-avatar-container\",children:[/*#__PURE__*/_jsx(\"video\",{playsInline:true,muted:true,onClick:fullScreen,ref:myVideo,autoPlay:true,className:\"video-active\",style:{opacity:\"\".concat(myVdoStatus?\"1\":\"0\")}}),/*#__PURE__*/_jsx(Avatar,{style:{backgroundColor:\"#116\",position:\"absolute\",opacity:\"\".concat(myVdoStatus?\"-1\":\"2\")},size:98,icon:!name&&/*#__PURE__*/_jsx(UserOutlined,{}),children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"iconsDiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icons\",onClick:function onClick(){updateMic();},tabIndex:\"0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-microphone\".concat(myMicStatus?\"\":\"-slash\"),style:{transform:\"scaleX(-1)\"},\"aria-label\":\"\".concat(myMicStatus?\"mic on\":\"mic off\"),\"aria-hidden\":\"true\"})}),callAccepted&&!callEnded&&/*#__PURE__*/_jsx(\"div\",{className:\"icons\",onClick:function onClick(){setIsModalVisible(!isModalVisible);},tabIndex:\"0\",children:/*#__PURE__*/_jsx(\"img\",{src:Msg,alt:\"chat icon\"})}),/*#__PURE__*/_jsxs(Modal,{title:\"Chat\",footer:null,visible:isModalVisible,onOk:function onOk(){return showModal(false);},onCancel:function onCancel(){return showModal(false);},style:{maxHeight:\"100px\"},children:[chat.length?/*#__PURE__*/_jsxs(\"div\",{className:\"msg_flex\",children:[chat.map(function(msg){return/*#__PURE__*/_jsx(\"div\",{className:msg.type===\"sent\"?\"msg_sent\":\"msg_rcv\",children:msg.msg});}),/*#__PURE__*/_jsx(\"div\",{ref:dummy,id:\"no_border\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"chat_img_div\",children:/*#__PURE__*/_jsx(\"img\",{src:Msg_Illus,alt:\"msg_illus\",className:\"img_illus\"})}),/*#__PURE__*/_jsx(Search,{placeholder:\"your message\",allowClear:true,className:\"input_msg\",enterButton:\"Send \\uD83D\\uDE80\",onChange:function onChange(e){return setSendMsg(e.target.value);},value:sendMsg,size:\"large\",onSearch:onSearch})]}),callAccepted&&!callEnded&&/*#__PURE__*/_jsx(\"div\",{className:\"icons\",onClick:function onClick(){return handleScreenSharing();},tabIndex:\"0\",children:/*#__PURE__*/_jsx(\"img\",{src:ScreenShare,alt:\"share screen\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"icons\",onClick:function onClick(){return updateVideo();},tabIndex:\"0\",children:myVdoStatus?/*#__PURE__*/_jsx(\"img\",{src:VideoIcon,alt:\"video on icon\"}):/*#__PURE__*/_jsx(\"img\",{src:VideoOff,alt:\"video off icon\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bouncing-loader\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),callAccepted&&!callEnded&&userVideo&&/*#__PURE__*/_jsxs(\"div\",{className:\"card2\",style:{textAlign:\"center\"},id:\"video2\",children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"2rem\"},children:/*#__PURE__*/_jsx(\"h3\",{children:userVdoStatus&&(call.name||userName)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-avatar-container\",children:[/*#__PURE__*/_jsx(\"video\",{playsInline:true,ref:userVideo,onClick:fullScreen,autoPlay:true,className:\"video-active\",style:{opacity:\"\".concat(userVdoStatus?\"1\":\"0\")}}),/*#__PURE__*/_jsx(Avatar,{style:{backgroundColor:\"#116\",position:\"absolute\",opacity:\"\".concat(userVdoStatus?\"-1\":\"2\")},size:98,icon:!(userName||call.name)&&/*#__PURE__*/_jsx(UserOutlined,{}),children:userName||call.name}),!userMicStatus&&/*#__PURE__*/_jsx(\"i\",{style:{position:\"absolute\",top:\"0\",left:\"0\",padding:\"0.3rem\",backgroundColor:\"#fefefebf\"},className:\"fad fa-volume-mute fa-2x\",\"aria-hidden\":\"true\",\"aria-label\":\"microphone muted\"})]})]})]});};export default Video;","map":{"version":3,"sources":["C:/garage-etude/client/src/components/Video/Video.js"],"names":["React","useContext","useEffect","useState","useRef","VideoContext","Modal","Input","notification","Avatar","UserOutlined","MessageOutlined","socket","Search","Video","call","callAccepted","myVideo","userVideo","stream","name","callEnded","sendMsgFunc","sendMsg","msgRcv","chat","setChat","userName","myVdoStatus","fullScreen","handleScreenSharing","userVdoStatus","updateVideo","myMicStatus","userMicStatus","updateMic","setSendMsg","isModalVisible","setIsModalVisible","on","value","msg","sender","type","timestamp","Date","now","dummy","current","scrollIntoView","behavior","showModal","showVal","onSearch","length","open","message","description","icon","color","textAlign","height","opacity","backgroundColor","position","transform","Msg","maxHeight","map","Msg_Illus","e","target","ScreenShare","VideoIcon","VideoOff","top","left","padding"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport VideoContext from \"../../context/VideoContext\";\nimport \"./Video.css\";\nimport { Modal, Input, notification, Avatar } from \"antd\";\nimport VideoIcon from \"../../assests/video.svg\";\nimport VideoOff from \"../../assests/video-off.svg\";\nimport Msg_Illus from \"../../assests/msg_illus.svg\";\nimport Msg from \"../../assests/msg.svg\";\nimport ScreenShare from '../../assests/share_screen.svg'\nimport { UserOutlined, MessageOutlined } from \"@ant-design/icons\";\n\nimport { socket } from \"../../context/VideoState\";\n\n// const socket = io()\nconst { Search } = Input;\nconst Video = () => {\n  const {\n    call,\n    callAccepted,\n    myVideo,\n    userVideo,\n    stream,\n    name,\n    callEnded,\n    sendMsg: sendMsgFunc,\n    msgRcv,\n    chat,\n    setChat,\n    userName,\n    myVdoStatus,\n    fullScreen,\n    handleScreenSharing,\n    userVdoStatus,\n    updateVideo,\n    myMicStatus,\n    userMicStatus,\n    updateMic,\n  } = useContext(VideoContext);\n\n  const [sendMsg, setSendMsg] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  socket.on(\"msgRcv\", ({ name, msg: value, sender }) => {\n    let msg = {};\n    msg.msg = value;\n    msg.type = \"rcv\";\n    msg.sender = sender;\n    msg.timestamp = Date.now();\n    setChat([...chat, msg]);\n  });\n\n  const dummy = useRef();\n\n  useEffect(() => {\n    if (dummy?.current) dummy.current.scrollIntoView({ behavior: \"smooth\" });\n  }, [chat]);\n\n  const showModal = (showVal) => {\n    setIsModalVisible(showVal);\n  };\n\n  const onSearch = (value) => {\n    if (value && value.length) sendMsgFunc(value);\n    setSendMsg(\"\");\n  };\n\n  useEffect(() => {\n    if (msgRcv.value && !isModalVisible) {\n      notification.open({\n        message: \"\",\n        description: `${msgRcv.sender}: ${msgRcv.value}`,\n        icon: <MessageOutlined style={{ color: \"#108ee9\" }} />,\n      });\n    }\n  }, [msgRcv]);\n\n  return (\n    <div className=\"grid\">\n      {stream ? (\n        <div\n          style={{ textAlign: \"center\" }}\n          className=\"card\"\n          id={callAccepted && !callEnded ? \"video1\" : \"video3\"}\n        >\n          <div style={{ height: \"2rem\" }}>\n            <h3>{myVdoStatus && name}</h3>\n          </div>\n          <div className=\"video-avatar-container\">\n            <video\n              playsInline\n              muted\n              onClick={fullScreen}\n              ref={myVideo}\n              autoPlay\n              className=\"video-active\"\n              style={{\n                opacity: `${myVdoStatus ? \"1\" : \"0\"}`,\n              }}\n            />\n\n            <Avatar\n              style={{\n                backgroundColor: \"#116\",\n                position: \"absolute\",\n                opacity: `${myVdoStatus ? \"-1\" : \"2\"}`,\n              }}\n              size={98}\n              icon={!name && <UserOutlined />}\n            >\n              {name}\n            </Avatar>\n          </div>\n\n          <div className=\"iconsDiv\">\n            <div\n              className=\"icons\"\n              onClick={() => {\n                updateMic();\n              }}\n              tabIndex=\"0\"\n            >\n              <i\n                className={`fa fa-microphone${myMicStatus ? \"\" : \"-slash\"}`}\n                style={{ transform: \"scaleX(-1)\" }}\n                aria-label={`${myMicStatus ? \"mic on\" : \"mic off\"}`}\n                aria-hidden=\"true\"\n              ></i>\n            </div>\n\n            {callAccepted && !callEnded && (\n              <div\n                className=\"icons\"\n                onClick={() => {\n                  setIsModalVisible(!isModalVisible);\n                }}\n                tabIndex=\"0\"\n              >\n                <img src={Msg} alt=\"chat icon\" />\n              </div>\n            )}\n            <Modal\n              title=\"Chat\"\n              footer={null}\n              visible={isModalVisible}\n              onOk={() => showModal(false)}\n              onCancel={() => showModal(false)}\n              style={{ maxHeight: \"100px\" }}\n            >\n              {chat.length ? (\n                <div className=\"msg_flex\">\n                  {chat.map((msg) => (\n                    <div\n                      className={msg.type === \"sent\" ? \"msg_sent\" : \"msg_rcv\"}\n                    >\n                      {msg.msg}\n                    </div>\n                  ))}\n                  <div ref={dummy} id=\"no_border\"></div>\n                </div>\n              ) : (\n                <div className=\"chat_img_div\">\n                  <img src={Msg_Illus} alt=\"msg_illus\" className=\"img_illus\" />\n                </div>\n              )}\n              <Search\n                placeholder=\"your message\"\n                allowClear\n                className=\"input_msg\"\n                enterButton=\"Send ðŸš€\"\n                onChange={(e) => setSendMsg(e.target.value)}\n                value={sendMsg}\n                size=\"large\"\n                onSearch={onSearch}\n              />\n            </Modal>\n            {callAccepted && !callEnded && (\n              <div\n                className=\"icons\"\n                onClick={() => handleScreenSharing()} \n                tabIndex=\"0\"\n              >\n                <img src={ScreenShare} alt=\"share screen\" />\n              </div>\n            )}\n\n            <div className=\"icons\" onClick={() => updateVideo()} tabIndex=\"0\">\n              {myVdoStatus ? (\n                <img src={VideoIcon} alt=\"video on icon\" />\n              ) : (\n                <img src={VideoOff} alt=\"video off icon\" />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bouncing-loader\">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      )}\n\n      {callAccepted && !callEnded && userVideo && (\n        <div className=\"card2\" style={{ textAlign: \"center\" }} id=\"video2\">\n          <div style={{ height: \"2rem\" }}>\n            <h3>{userVdoStatus && (call.name || userName)}</h3>\n          </div>\n\n          <div className=\"video-avatar-container\">\n            <video\n              playsInline\n              ref={userVideo}             \n              onClick={fullScreen}\n              autoPlay\n              className=\"video-active\"\n              style={{\n                opacity: `${userVdoStatus ? \"1\" : \"0\"}`,\n              }}\n            />\n\n            <Avatar\n              style={{\n                backgroundColor: \"#116\",\n                position: \"absolute\",\n                opacity: `${userVdoStatus ? \"-1\" : \"2\"}`,\n              }}\n              size={98}\n              icon={!(userName || call.name) && <UserOutlined />}\n            >\n              {userName || call.name}\n            </Avatar>\n            {!userMicStatus && (\n              <i\n                style={{\n                  position: \"absolute\",\n                  top: \"0\",\n                  left: \"0\",\n                  padding: \"0.3rem\",\n                  backgroundColor: \"#fefefebf\",\n                }}\n                className=\"fad fa-volume-mute fa-2x\"\n                aria-hidden=\"true\"\n                aria-label=\"microphone muted\"\n              ></i>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Video;\n"]},"metadata":{},"sourceType":"module"}
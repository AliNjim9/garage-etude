{"version":3,"sources":["components/options/Options.module.css","constants/actionTypes.js","reducers/auth.js","reducers/index.js","context/VideoContext.js","assests/video.svg","assests/video-off.svg","assests/msg_illus.svg","assests/msg.svg","assests/share_screen.svg","context/VideoState.js","components/Video/Video.js","assests/phone.gif","assests/teams.mp3","assests/hang.svg","components/options/Options.js","components/Footer/Footer.js","Room.js","components/NavBar/styles.js","components/NavBar/nav.js","components/Auth/AuthStyles.js","components/Auth/Input.js","api/index.js","components/Auth/Auth.js","actions/auth.js","components/logged.js","components/Home/home.js","App.js","index.js"],"names":["module","exports","LOGOUT","AUTH","authReducer","state","authData","action","type","localStorage","setItem","JSON","stringify","data","clear","reducers","combineReducers","auth","VideoContext","createContext","socket","io","VideoState","children","useState","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","chat","setChat","name","setName","call","setCall","me","setMe","userName","setUserName","otherUser","setOtherUser","myVdoStatus","setMyVdoStatus","userVdoStatus","setUserVdoStatus","myMicStatus","setMyMicStatus","userMicStatus","setUserMicStatus","msgRcv","setMsgRcv","screenShare","setScreenShare","myVideo","useRef","userVideo","connectionRef","screenTrackRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","getItem","on","id","window","location","reload","currentMediaStatus","from","callerName","signal","isReceivingCall","value","msg","sender","setTimeout","Provider","callUser","peer","Peer","initiator","trickle","emit","userToCall","signalData","console","log","leaveCall","destroy","answerCall","to","myMediaStatus","sendMsg","timestamp","Date","now","leaveCall1","updateVideo","currentStatus","getVideoTracks","enabled","updateMic","getAudioTracks","handleScreenSharing","onended","getDisplayMedia","cursor","screenTrack","getTracks","replaceTrack","streams","find","track","kind","catch","error","message","fullScreen","e","elem","target","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Search","Input","Video","useContext","sendMsgFunc","setSendMsg","isModalVisible","setIsModalVisible","dummy","scrollIntoView","behavior","showModal","showVal","notification","open","description","icon","MessageOutlined","style","color","className","textAlign","height","playsInline","muted","onClick","ref","autoPlay","opacity","backgroundColor","position","size","UserOutlined","tabIndex","transform","aria-label","aria-hidden","src","Msg","alt","title","footer","visible","onOk","onCancel","maxHeight","length","map","Msg_Illus","placeholder","allowClear","enterButton","onChange","onSearch","ScreenShare","VideoIcon","VideoOff","top","left","padding","Options","idToCall","setIdToCall","parse","user","Audio","play","pause","classes","marginBottom","sessionStorage","result","firstname","lastname","prefix","maxLength","suffix","text","CopyOutlined","success","WhatsappShareButton","url","separator","WhatsappIcon","round","FacebookShareButton","FacebookIcon","TwitterShareButton","TwitterIcon","marginRight","InfoCircleOutlined","variant","Hang","PhoneOutlined","Teams","loop","display","justifyContent","Phone","Footer","HeartTwoTone","twoToneColor","href","rel","Room","history","useHistory","width","makeStyles","theme","appBar","borderRadius","margin","flexDirection","heading","textDecoration","image","marginLeft","toolbar","profile","alignItems","brandContainer","purple","palette","getContrastText","deepPurple","time","fontWeight","fontFamily","Nav","useStyles","dateTime","setDateTime","setUser","dispatch","useDispatch","useLocation","logout","push","token","decode","exp","getTime","setInterval","clearInterval","AppBar","Typography","component","Link","Toolbar","Avatar","imageUrl","charAt","toUpperCase","toLocaleDateString","toLocaleTimeString","Button","paper","marginTop","spacing","root","avatar","secondary","main","form","submit","half","label","handleChange","autoFocus","Grid","item","xs","sm","TextField","required","fullWidth","API","require","axios","create","baseURL","signIn","formData","post","signUp","intialState","username","password","Auth","isSignup","setIsSignup","setFormData","Container","maxWidth","Paper","elevation","onSubmit","preventDefault","a","api","signup","signin","container","autofocus","prevIsSignup","DemoCarousel","showIndicators","infiniteLoop","Component","roomid","Home","Grow","in","App","exact","path","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98cf0857.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"options\":\"Options_options__HuYFB\",\"btn\":\"Options_btn__2QksT\",\"inputgroup\":\"Options_inputgroup__9TEp6\",\"btnDiv\":\"Options_btnDiv__1zDEP\",\"phone\":\"Options_phone__3tpVO\",\"answer\":\"Options_answer__DqtnG\",\"decline\":\"Options_decline__1KUxo\",\"hang\":\"Options_hang__3AyCD\",\"share_options\":\"Options_share_options__3lqTo\",\"share_social\":\"Options_share_social__XknHv\",\"share_icon\":\"Options_share_icon__1hg1S\"};","export const LOGOUT = \"LOGOUT\";\r\nexport const AUTH = \"AUTH\";","import { AUTH , LOGOUT} from '../constants/actionTypes';\r\n\r\nconst authReducer=(state = {authData : null },action)=>{\r\n    switch (action.type) {\r\n        case AUTH : \r\n            localStorage.setItem('profile', JSON.stringify({...action?.data}));\r\n\r\n            return { ...state,authData : action?.data};\r\n        case LOGOUT : \r\n            localStorage.clear();\r\n\r\n            return {...state,authData : null };\r\n        default : \r\n            return state;\r\n    }\r\n};\r\n\r\nexport default authReducer;","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth';\r\n\r\nexport const reducers = combineReducers({ auth });","import React, { createContext } from \"react\";\nconst VideoContext = createContext();\nexport default VideoContext;\n","export default __webpack_public_path__ + \"static/media/video.e038b670.svg\";","export default __webpack_public_path__ + \"static/media/video-off.81281c31.svg\";","export default __webpack_public_path__ + \"static/media/msg_illus.a7fd59ce.svg\";","export default __webpack_public_path__ + \"static/media/msg.590bd963.svg\";","export default __webpack_public_path__ + \"static/media/share_screen.35f2d549.svg\";","import React, { useState, useEffect, useRef } from \"react\";\nimport VideoContext from \"./VideoContext\";\nimport { io } from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport { message } from \"antd\";\n\n//const URL = \"https://fathomless-tundra-67025.herokuapp.com/\";\nconst SERVER_URL = \"http://localhost:5000/\";\n\nexport const socket = io(SERVER_URL);\n\nconst VideoState = ({ children }) => {\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [chat, setChat] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [call, setCall] = useState({});\n  const [me, setMe] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [otherUser, setOtherUser] = useState(\"\");\n  const [myVdoStatus, setMyVdoStatus] = useState(true);\n  const [userVdoStatus, setUserVdoStatus] = useState();\n  const [myMicStatus, setMyMicStatus] = useState(true);\n  const [userMicStatus, setUserMicStatus] = useState();\n  const [msgRcv, setMsgRcv] = useState(\"\");\n  const [screenShare, setScreenShare] = useState(false)\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n  const screenTrackRef = useRef();\n\n  useEffect(() => {\n    navigator.mediaDevices\n      .getUserMedia({ video: true, audio: true })\n      .then((currentStream) => {\n        setStream(currentStream);\n        myVideo.current.srcObject = currentStream;\n      });\n    if (localStorage.getItem(\"name\")) {\n      setName(localStorage.getItem(\"name\"));\n    }\n    socket.on(\"me\", (id) => setMe(id));\n    socket.on(\"endCall\", () => {\n      window.location.reload();\n    });\n\n    socket.on(\"updateUserMedia\", ({ type, currentMediaStatus }) => {\n      if (currentMediaStatus !== null || currentMediaStatus !== []) {\n        switch (type) {\n          case \"video\":\n            setUserVdoStatus(currentMediaStatus);\n            break;\n          case \"mic\":\n            setUserMicStatus(currentMediaStatus);\n            break;\n          default:\n            setUserMicStatus(currentMediaStatus[0]);\n            setUserVdoStatus(currentMediaStatus[1]);\n            break;\n        }\n      }\n    });\n\n    socket.on(\"callUser\", ({ from, name: callerName, signal }) => {\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\n    });\n\n    socket.on(\"msgRcv\", ({ name, msg: value, sender }) => {\n      setMsgRcv({ value, sender });\n      setTimeout(() => {\n        setMsgRcv({});\n      }, 2000);\n    });\n  }, []);\n\n  // useEffect(() => {\n  //   console.log(chat);\n  // }, [chat]);\n\n  const answerCall = () => {\n    setCallAccepted(true);\n    setOtherUser(call.from);\n    const peer = new Peer({ initiator: false, trickle: false, stream });\n\n    peer.on(\"signal\", (data) => {\n      socket.emit(\"answerCall\", {\n        signal: data,\n        to: call.from,\n        userName: name,\n        type: \"both\",\n        myMediaStatus: [myMicStatus, myVdoStatus],\n      });\n    });\n\n    peer.on(\"stream\", (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    peer.signal(call.signal);\n\n    connectionRef.current = peer;\n    console.log(connectionRef.current);\n  };\n\n  const callUser = (id) => {\n    const peer = new Peer({ initiator: true, trickle: false, stream });\n    setOtherUser(id);\n    peer.on(\"signal\", (data) => {\n      socket.emit(\"callUser\", {\n        userToCall: id,\n        signalData: data,\n        from: me,\n        name,\n      });\n    });\n\n    peer.on(\"stream\", (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    socket.on(\"callAccepted\", ({ signal, userName }) => {\n      setCallAccepted(true);\n      setUserName(userName);\n      peer.signal(signal);\n      socket.emit(\"updateMyMedia\", {\n        type: \"both\",\n        currentMediaStatus: [myMicStatus, myVdoStatus],\n      });\n    });\n\n    connectionRef.current = peer;\n    console.log(connectionRef.current);\n  };\n\n  const updateVideo = () => {\n    setMyVdoStatus((currentStatus) => {\n      socket.emit(\"updateMyMedia\", {\n        type: \"video\",\n        currentMediaStatus: !currentStatus,\n      });\n      stream.getVideoTracks()[0].enabled = !currentStatus;\n      return !currentStatus;\n    });\n  };\n\n  const updateMic = () => {\n    setMyMicStatus((currentStatus) => {\n      socket.emit(\"updateMyMedia\", {\n        type: \"mic\",\n        currentMediaStatus: !currentStatus,\n      });\n      stream.getAudioTracks()[0].enabled = !currentStatus;\n      return !currentStatus;\n    });\n  };\n\n  \n    //SCREEN SHARING \n    const handleScreenSharing = () => {\n\n      if(!myVdoStatus){\n        message.error(\"Turn on your video to share the content\", 2);\n        return;\n      }\n    \n      if (!screenShare) {\n        navigator.mediaDevices\n          .getDisplayMedia({ cursor: true })\n          .then((currentStream) => {\n            const screenTrack = currentStream.getTracks()[0];\n\n  \n              // replaceTrack (oldTrack, newTrack, oldStream);\n              connectionRef.current.replaceTrack(\n                connectionRef.current.streams[0]\n                  .getTracks()\n                  .find((track) => track.kind === 'video'),\n                screenTrack,\n                stream\n              );\n  \n            // Listen click end\n            screenTrack.onended = () => {\n              connectionRef.current.replaceTrack(\n                  screenTrack,\n                  connectionRef.current.streams[0]\n                    .getTracks()\n                    .find((track) => track.kind === 'video'),\n                  stream\n                );\n\n              myVideo.current.srcObject = stream;\n              setScreenShare(false);\n            };\n  \n            myVideo.current.srcObject = currentStream;\n            screenTrackRef.current = screenTrack;\n            setScreenShare(true);\n          }).catch((error) => {\n            console.log(\"No stream for sharing\")\n          });\n      } else {\n        screenTrackRef.current.onended();\n      }\n    };\n\n     //full screen\n     const fullScreen = (e) => {\n      const elem = e.target;\n  \n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.mozRequestFullScreen) {\n        /* Firefox */\n        elem.mozRequestFullScreen();\n      } else if (elem.webkitRequestFullscreen) {\n        /* Chrome, Safari & Opera */\n        elem.webkitRequestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        /* IE/Edge */\n        elem.msRequestFullscreen();\n      }\n    };\n\n  const leaveCall = () => {\n    setCallEnded(true);\n\n    connectionRef.current.destroy();\n    socket.emit(\"endCall\", { id: otherUser });\n    window.location.reload();\n  };\n\n  const leaveCall1 = () => {\n    socket.emit(\"endCall\", { id: otherUser });\n  };\n  const sendMsg = (value) => {\n    socket.emit(\"msgUser\", { name, to: otherUser, msg: value, sender: name });\n    let msg = {};\n    msg.msg = value;\n    msg.type = \"sent\";\n    msg.timestamp = Date.now();\n    msg.sender = name;\n    setChat([...chat, msg]);\n  };\n\n  return (\n    <VideoContext.Provider\n      value={{\n        call,\n        callAccepted,\n        myVideo,\n        userVideo,\n        stream,\n        name,\n        setName,\n        callEnded,\n        me,\n        callUser,\n        leaveCall,\n        answerCall,\n        sendMsg,\n        msgRcv,\n        chat,\n        setChat,\n        setMsgRcv,\n        setOtherUser,\n        leaveCall1,\n        userName,\n        myVdoStatus,\n        setMyVdoStatus,\n        userVdoStatus,\n        setUserVdoStatus,\n        updateVideo,\n        myMicStatus,\n        userMicStatus,\n        updateMic,\n        screenShare,\n        handleScreenSharing,\n        fullScreen\n      }}\n    >\n      {children}\n    </VideoContext.Provider>\n  );\n};\n\nexport default VideoState;\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport VideoContext from \"../../context/VideoContext\";\nimport \"./Video.css\";\nimport { Modal, Input, notification, Avatar } from \"antd\";\nimport VideoIcon from \"../../assests/video.svg\";\nimport VideoOff from \"../../assests/video-off.svg\";\nimport Msg_Illus from \"../../assests/msg_illus.svg\";\nimport Msg from \"../../assests/msg.svg\";\nimport ScreenShare from '../../assests/share_screen.svg'\nimport { UserOutlined, MessageOutlined } from \"@ant-design/icons\";\n\nimport { socket } from \"../../context/VideoState\";\n\n// const socket = io()\nconst { Search } = Input;\nconst Video = () => {\n  const {\n    call,\n    callAccepted,\n    myVideo,\n    userVideo,\n    stream,\n    name,\n    callEnded,\n    sendMsg: sendMsgFunc,\n    msgRcv,\n    chat,\n    setChat,\n    userName,\n    myVdoStatus,\n    fullScreen,\n    handleScreenSharing,\n    userVdoStatus,\n    updateVideo,\n    myMicStatus,\n    userMicStatus,\n    updateMic,\n  } = useContext(VideoContext);\n\n  const [sendMsg, setSendMsg] = useState(\"\");\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  socket.on(\"msgRcv\", ({ name, msg: value, sender }) => {\n    let msg = {};\n    msg.msg = value;\n    msg.type = \"rcv\";\n    msg.sender = sender;\n    msg.timestamp = Date.now();\n    setChat([...chat, msg]);\n  });\n\n  const dummy = useRef();\n\n  useEffect(() => {\n    if (dummy?.current) dummy.current.scrollIntoView({ behavior: \"smooth\" });\n  }, [chat]);\n\n  const showModal = (showVal) => {\n    setIsModalVisible(showVal);\n  };\n\n  const onSearch = (value) => {\n    if (value && value.length) sendMsgFunc(value);\n    setSendMsg(\"\");\n  };\n\n  useEffect(() => {\n    if (msgRcv.value && !isModalVisible) {\n      notification.open({\n        message: \"\",\n        description: `${msgRcv.sender}: ${msgRcv.value}`,\n        icon: <MessageOutlined style={{ color: \"#108ee9\" }} />,\n      });\n    }\n  }, [msgRcv]);\n\n  return (\n    <div className=\"grid\">\n      {stream ? (\n        <div\n          style={{ textAlign: \"center\" }}\n          className=\"card\"\n          id={callAccepted && !callEnded ? \"video1\" : \"video3\"}\n        >\n          <div style={{ height: \"2rem\" }}>\n            <h3>{myVdoStatus && name}</h3>\n          </div>\n          <div className=\"video-avatar-container\">\n            <video\n              playsInline\n              muted\n              onClick={fullScreen}\n              ref={myVideo}\n              autoPlay\n              className=\"video-active\"\n              style={{\n                opacity: `${myVdoStatus ? \"1\" : \"0\"}`,\n              }}\n            />\n\n            <Avatar\n              style={{\n                backgroundColor: \"#116\",\n                position: \"absolute\",\n                opacity: `${myVdoStatus ? \"-1\" : \"2\"}`,\n              }}\n              size={98}\n              icon={!name && <UserOutlined />}\n            >\n              {name}\n            </Avatar>\n          </div>\n\n          <div className=\"iconsDiv\">\n            <div\n              className=\"icons\"\n              onClick={() => {\n                updateMic();\n              }}\n              tabIndex=\"0\"\n            >\n              <i\n                className={`fa fa-microphone${myMicStatus ? \"\" : \"-slash\"}`}\n                style={{ transform: \"scaleX(-1)\" }}\n                aria-label={`${myMicStatus ? \"mic on\" : \"mic off\"}`}\n                aria-hidden=\"true\"\n              ></i>\n            </div>\n\n            {callAccepted && !callEnded && (\n              <div\n                className=\"icons\"\n                onClick={() => {\n                  setIsModalVisible(!isModalVisible);\n                }}\n                tabIndex=\"0\"\n              >\n                <img src={Msg} alt=\"chat icon\" />\n              </div>\n            )}\n            <Modal\n              title=\"Chat\"\n              footer={null}\n              visible={isModalVisible}\n              onOk={() => showModal(false)}\n              onCancel={() => showModal(false)}\n              style={{ maxHeight: \"100px\" }}\n            >\n              {chat.length ? (\n                <div className=\"msg_flex\">\n                  {chat.map((msg) => (\n                    <div\n                      className={msg.type === \"sent\" ? \"msg_sent\" : \"msg_rcv\"}\n                    >\n                      {msg.msg}\n                    </div>\n                  ))}\n                  <div ref={dummy} id=\"no_border\"></div>\n                </div>\n              ) : (\n                <div className=\"chat_img_div\">\n                  <img src={Msg_Illus} alt=\"msg_illus\" className=\"img_illus\" />\n                </div>\n              )}\n              <Search\n                placeholder=\"your message\"\n                allowClear\n                className=\"input_msg\"\n                enterButton=\"Send ðŸš€\"\n                onChange={(e) => setSendMsg(e.target.value)}\n                value={sendMsg}\n                size=\"large\"\n                onSearch={onSearch}\n              />\n            </Modal>\n            {callAccepted && !callEnded && (\n              <div\n                className=\"icons\"\n                onClick={() => handleScreenSharing()} \n                tabIndex=\"0\"\n              >\n                <img src={ScreenShare} alt=\"share screen\" />\n              </div>\n            )}\n\n            <div className=\"icons\" onClick={() => updateVideo()} tabIndex=\"0\">\n              {myVdoStatus ? (\n                <img src={VideoIcon} alt=\"video on icon\" />\n              ) : (\n                <img src={VideoOff} alt=\"video off icon\" />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bouncing-loader\">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      )}\n\n      {callAccepted && !callEnded && userVideo && (\n        <div className=\"card2\" style={{ textAlign: \"center\" }} id=\"video2\">\n          <div style={{ height: \"2rem\" }}>\n            <h3>{userVdoStatus && (call.name || userName)}</h3>\n          </div>\n\n          <div className=\"video-avatar-container\">\n            <video\n              playsInline\n              ref={userVideo}             \n              onClick={fullScreen}\n              autoPlay\n              className=\"video-active\"\n              style={{\n                opacity: `${userVdoStatus ? \"1\" : \"0\"}`,\n              }}\n            />\n\n            <Avatar\n              style={{\n                backgroundColor: \"#116\",\n                position: \"absolute\",\n                opacity: `${userVdoStatus ? \"-1\" : \"2\"}`,\n              }}\n              size={98}\n              icon={!(userName || call.name) && <UserOutlined />}\n            >\n              {userName || call.name}\n            </Avatar>\n            {!userMicStatus && (\n              <i\n                style={{\n                  position: \"absolute\",\n                  top: \"0\",\n                  left: \"0\",\n                  padding: \"0.3rem\",\n                  backgroundColor: \"#fefefebf\",\n                }}\n                className=\"fad fa-volume-mute fa-2x\"\n                aria-hidden=\"true\"\n                aria-label=\"microphone muted\"\n              ></i>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Video;\n","export default __webpack_public_path__ + \"static/media/phone.b2c1ae6b.gif\";","export default __webpack_public_path__ + \"static/media/teams.23d1d865.mp3\";","export default __webpack_public_path__ + \"static/media/hang.a09ef7b4.svg\";","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport { Input, Button, Tooltip, Modal, message } from \"antd\";\nimport Phone from \"../../assests/phone.gif\";\nimport Teams from \"../../assests/teams.mp3\";\nimport * as classes from \"./Options.module.css\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport VideoContext from \"../../context/VideoContext\";\nimport Hang from \"../../assests/hang.svg\";\nimport {\n  TwitterIcon,\n  TwitterShareButton,\n  WhatsappShareButton,\n  WhatsappIcon,\n  FacebookIcon,\n  FacebookShareButton,\n} from \"react-share\";\nimport {\n  UserOutlined,\n  CopyOutlined,\n  InfoCircleOutlined,\n  PhoneOutlined,\n} from \"@ant-design/icons\";\nimport { socket } from \"../../context/VideoState\";\n\nconst Options = () => {\n  const [idToCall, setIdToCall] = useState(\"\");\n  \n  const [user,setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const Audio = useRef();\n  const {\n    call,\n    callAccepted,\n    myVideo,\n    userVideo,\n    stream,\n    name,\n    setName,\n    callEnded,\n    me,\n    callUser,\n    leaveCall,\n    answerCall,\n    otherUser,\n    setOtherUser,\n    leaveCall1,\n  } = useContext(VideoContext);\n\n  useEffect(() => {\n    if (isModalVisible) {\n      Audio?.current?.play();\n    } else Audio?.current?.pause();\n  }, [isModalVisible]);\n\n  const showModal = (showVal) => {\n    setIsModalVisible(showVal);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    leaveCall1();\n    window.location.reload();\n  };\n  useEffect(() => {\n    if (call.isReceivingCall && !callAccepted) {\n      setIsModalVisible(true);\n      setOtherUser(call.from);\n    } else setIsModalVisible(false);\n  }, [call.isReceivingCall]);\n\n  return (\n    <div className={classes.options}>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Account Info</h2>\n        <Input\n          size=\"large\"\n          placeholder={sessionStorage.getItem('user',user.result.firstname + ' ' + user.result.lastname)}\n          prefix={<UserOutlined />}\n          maxLength={15}\n          suffix={<small>{name.length}/15</small>}\n          value={name}\n          onChange={(e) => {\n            setName(e.target.value);\n            localStorage.setItem(\"name\", e.target.value);\n          }}\n          className={classes.inputgroup}\n        />\n\n        <div className={classes.share_options}>\n          <CopyToClipboard text={me}>\n            <Button\n              type=\"primary\"\n              icon={<CopyOutlined />}\n              className={classes.btn}\n              tabIndex=\"0\"\n              onClick={() => message.success(\"Code copied successfully!\")}\n            >\n              Copy code\n            </Button>\n          </CopyToClipboard>\n\n          <div className={classes.share_social}>\n            <WhatsappShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code \"${me}\"\\n`}\n              separator=\"Link: \"\n              className={classes.share_icon}\n            >\n              <WhatsappIcon size={26} round />\n            </WhatsappShareButton>\n            <FacebookShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code \"${me}\"\\n`}\n              className={classes.share_icon}\n            >\n              <FacebookIcon size={26} round />\n            </FacebookShareButton>\n            <TwitterShareButton\n              url={`https://github.com/AliNjim9/garage-etude.git`}\n              title={`Join this meeting with the given code  \"${me}\"\\n`}\n              className={classes.share_icon}\n            >\n              <TwitterIcon size={26} round className={classes.share_border} />\n            </TwitterShareButton>\n          </div>\n        </div>\n      </div>\n      <div style={{ marginBottom: \"0.5rem\" }}>\n        <h2>Make a call</h2>\n\n        <Input\n          placeholder=\"Enter code to call\"\n          size=\"large\"\n          className={classes.inputgroup}\n          value={idToCall}\n          onChange={(e) => setIdToCall(e.target.value)}\n          style={{ marginRight: \"0.5rem\", marginBottom: \"0.5rem\" }}\n          prefix={<UserOutlined className=\"site-form-item-icon\" />}\n          suffix={\n            <Tooltip title=\"Enter code of the other user\">\n              <InfoCircleOutlined style={{ color: \"rgba(0,0,0,.45)\" }} />\n            </Tooltip>\n          }\n        />\n\n        {callAccepted && !callEnded ? (\n          <Button\n            variant=\"contained\"\n            onClick={leaveCall}\n            className={classes.hang}\n            tabIndex=\"0\"\n          >\n            <img src={Hang} alt=\"hang up\" style={{ height: \"15px\" }} />\n            &nbsp; Hang up\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            icon={<PhoneOutlined />}\n            onClick={() => {\n              if (name.length) callUser(idToCall);\n              else message.error(\"Please enter your name to call!\");\n            }}\n            className={classes.btn}\n            tabIndex=\"0\"\n          >\n            Call\n          </Button>\n        )}\n      </div>\n\n      {call.isReceivingCall && !callAccepted && (\n        <>\n          <audio src={Teams} loop ref={Audio} />\n          <Modal\n            title=\"Incoming Call\"\n            visible={isModalVisible}\n            onOk={() => showModal(false)}\n            onCancel={handleCancel}\n            footer={null}\n          >\n            <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n              <h1>\n                {call.name} is calling you:{\" \"}\n                <img\n                  src={Phone}\n                  alt=\"phone ringing\"\n                  className={classes.phone}\n                  style={{ display: \"inline-block\" }}\n                />\n              </h1>\n            </div>\n            <div className={classes.btnDiv}>\n              <Button\n                variant=\"contained\"\n                className={classes.answer}\n                color=\"#29bb89\"\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  answerCall();\n                  Audio.current.pause();\n                }}\n                tabIndex=\"0\"\n              >\n                Answer\n              </Button>\n              <Button\n                variant=\"contained\"\n                className={classes.decline}\n                icon={<PhoneOutlined />}\n                onClick={() => {\n                  setIsModalVisible(false);\n                  Audio.current.pause();\n                }}\n                tabIndex=\"0\"\n              >\n                Decline\n              </Button>\n            </div>\n          </Modal>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Options;\n","import React from \"react\";\nimport { HeartTwoTone } from \"@ant-design/icons\";\nimport \"./Footer.css\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      Made with <HeartTwoTone twoToneColor=\"#eb2f96\" /> By{\" \"}\n      <a\n        className=\"footer__link\"\n        href=\"https://github.com/AliNjim9/garage-etude.git\"\n        target=\"_blank\"\n        style={{ color: \"#fdfdfd\" }}\n        rel=\"noreferrer\"\n      >\n        Njim Ali\n      </a>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import { useEffect } from \"react\";\n\nimport Video from \"./components/Video/Video\";\nimport VideoState from \"./context/VideoState\";\nimport { Link,useLocation,useHistory } from \"react-router-dom\";\n\nimport Options from \"./components/options/Options\";\nimport Footer from \"./components/Footer/Footer\";\n\nconst Room = () => {\n  const history = useHistory();\n\n  useEffect(()=>{\n    \n  },[history]);\n  return (\n    <VideoState>\n      <div className=\"App\" style={{ height: \"100%\", width: \"100%\" }}>\n        <Video />\n        <Options />\n      </div>\n    </VideoState>\n  );\n};\n\nexport default Room;\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { deepPurple } from '@material-ui/core/colors';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"static\",\r\n    color :\"inherit\",\r\n    borderRadius: 15,\r\n    margin: '30px 0',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    \r\n    padding: '10px 50px',\r\n  },\r\n  heading: {\r\n    color: 'rgba(0,183,255, 1)',\r\n    textDecoration: 'none',\r\n  },\r\n  image: {\r\n    marginLeft: '15px',\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    width: '400px',\r\n  },\r\n  profile: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '400px',\r\n  },\r\n  userName: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  brandContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n  time : {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '100px',\r\n    color :'#121858',\r\n    fontWeight:'fontWeightBold',\r\n    fontFamily:'monospace',\r\n  }\r\n}))\r\n","import React,{ useState, useEffect } from \"react\";\r\nimport { Link ,useHistory,useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {AppBar , Toolbar, Typography,Avatar,Button } from '@material-ui/core';\r\nimport useStyles from './styles.js';\r\nimport decode from 'jwt-decode';\r\n\r\nexport const Nav = () => {\r\n  const classes=useStyles();\r\n  \r\n  const [dateTime, setDateTime] = useState(new Date());\r\n  const [user,setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const logout = () => {\r\n    dispatch({type : 'LOGOUT'});\r\n    setUser(null);\r\n    history.push('/home'); \r\n  }\r\n\r\n  useEffect(()=>{\r\n    const token = user?.token;\r\n\r\n    if(token){\r\n      const decodedToken = decode(token);\r\n\r\n      if(decodedToken.exp * 1000 < new Date().getTime()) \r\n        logout();\r\n    }\r\n    setUser(JSON.parse(localStorage.getItem('profile')));\r\n  },[location]);\r\n  \r\n    useEffect(() => {\r\n        const id = setInterval(() => setDateTime(new Date()), 1000);\r\n        return () => {\r\n            clearInterval(id);\r\n        }\r\n    }, []);\r\n  return (\r\n    \r\n    <AppBar className={classes.appBar}>\r\n      <div className={classes.brandContainer}>\r\n        <Typography component={Link} to=\"/home\" className={classes.heading} variant=\"h3\" >Garage-d'Etude</Typography>\r\n        <img className={classes.image} src=\"log1.png\" alt=\"icon\" height=\"60\" />\r\n      </div>\r\n      <Toolbar className={classes.toolbar}>\r\n        {user ? (\r\n            <div className={classes.profile}>\r\n              <Avatar className={classes.purple} alt={user.result.name} src={user.result.imageUrl}>{user.result.firstname.charAt(0).toUpperCase()}</Avatar>\r\n              <Typography className={classes.userName} variant=\"h6\">{`${user.result.firstname} ${user.result.lastname}`}</Typography>\r\n              <Typography className={classes.time}>            \r\n                {`${dateTime.toLocaleDateString()} ${dateTime.toLocaleTimeString()}`}\r\n              </Typography>\r\n              <Button className={classes.logout} variant=\"contained\" color=\"secondary\" onClick={logout}>Logout</Button>\r\n            </div>\r\n          ) : (\r\n              <Typography className={classes.time}>            \r\n                {`${dateTime.toLocaleDateString()} ${dateTime.toLocaleTimeString()}`}\r\n              </Typography>   \r\n          )\r\n        }             \r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\n\r\n/*\r\nexport class nav extends Component{\r\n  state = {\r\n    curTime: null,\r\n  }\r\n  componentDidMount() {\r\n    setInterval( () => {\r\n      this.setState({\r\n        curTime : new Date().toLocaleString()\r\n      })\r\n    },1000)\r\n  }\r\n  render(){\r\n    \r\n    return(\r\n      \r\n      \r\n      \r\n  )\r\n};\r\n}\r\nexport default nav;\r\n\r\n  /*<div class=\"topnav\">\r\n          <a class=\"active\" href=\"/home\">\r\n            <img src=\"log1.png\" class=\"img\"/>\r\n            Garage d'Etude\r\n          </a>\r\n          <a href=\"#news\" >More</a>\r\n          <a class=\"time\"href=\"#news\" disabled=\"disabled\">{this.state.curTime}</a>\r\n        </div>\r\n        */","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  }\r\n}));","import React from 'react'\r\nimport { TextField,Grid } from '@material-ui/core'\r\n\r\n\r\nexport const Input = ({half,name,label,type,handleChange,autoFocus}) => {\r\n    return (\r\n        <Grid item xs={12} sm={half ? 6 :12}>\r\n            <TextField\r\n                name={name}\r\n                onChange={handleChange}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label={label}\r\n                autoFocus={autoFocus}\r\n                type={type}\r\n            />\r\n        </Grid>\r\n    );\r\n};\r\nexport default Input;","import axios from 'axios';\r\nconst https=require('https');\r\n//https://localhost:5000\r\nexport const API =axios.create({baseURL : 'https://garage-etude.herokuapp.com/' }); \r\n\r\n\r\nexport const signIn = (formData) => API.post('/user/signin',formData);\r\nexport const signUp = (formData) => API.post('/user/signup',formData);","import React,{ useState } from 'react';\r\nimport { Avatar,Button,Paper,Typography,Grid,Container } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport useStyles from './AuthStyles.js';\r\nimport { Input } from './Input.js';\r\nimport {signin,signup} from '../../actions/auth.js';\r\n\r\nconst intialState={firstname:'',lastname:'',username:'',password:'' };\r\n\r\nexport const Auth =() =>{\r\n    \r\n    const classes=useStyles();\r\n    const [isSignup, setIsSignup] = useState(false);\r\n    const [formData,setFormData] = useState(intialState);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const handleSubmit= (e)=> {\r\n        e.preventDefault();\r\n        if(isSignup){\r\n            dispatch(signup(formData,history));\r\n        }else{\r\n            dispatch(signin(formData,history));\r\n        }\r\n    };\r\n\r\n    const handleChange= (e)=> {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n    const switchMode=()=>{\r\n        setIsSignup((prevIsSignup)=>!prevIsSignup);\r\n    }\r\n      return(\r\n          \r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <Paper className={classes.paper} elevation={3}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockIcon/>\r\n                </Avatar>\r\n                <Typography variant=\"h5\">{isSignup ? 'Sign Up' : 'Sign In'}</Typography>\r\n                <form className={classes.form} onSubmit={handleSubmit}>\r\n                    <Grid container spacing={2}>\r\n                        {\r\n                            isSignup && (\r\n                                <>\r\n                                    <Input name=\"firstname\" label=\"First Name\" handleChange={handleChange} autofocus half />\r\n                                    <Input name=\"lastname\" label=\"Last Name\" handleChange={handleChange} half />\r\n                                </>\r\n                            )\r\n                        }\r\n                        <Input name=\"username\" label =\"Username\" handleChange={handleChange} />\r\n                        <Input name=\"password\" label =\"Password\" handleChange={handleChange} type=\"password\" />\r\n                    </Grid>\r\n                    <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className=\"\">\r\n                        {isSignup?'Sign Up':'Sign In'}\r\n                    </Button>\r\n                    <Grid container justifyContent=\"flex-end\">\r\n                        <Grid item>\r\n                            <Button onClick={switchMode}>\r\n                                {isSignup?'Already have an account ? Sign In' : \"Don't have an account ? Sign Up\"}\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </Paper>\r\n\r\n        </Container>\r\n    )\r\n  };","import * as api from '../api/index.js';\r\nimport { AUTH } from '../constants/actionTypes.js';\r\n\r\nexport const signin = (formData,history) => async(dispatch) =>{\r\n    try {\r\n        const { data } = await api.signIn(formData);\r\n\r\n        dispatch({type: AUTH, data});\r\n\r\n        history.push('/home');\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n};\r\n\r\nexport const signup = (formData,history) => async(dispatch) =>{\r\n    try {\r\n        const { data } = await api.signUp(formData);\r\n\r\n        dispatch({type: AUTH, data});\r\n\r\n        history.push('/home');\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n};","import React, { Component } from 'react';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nclass DemoCarousel extends Component {\r\n    render() {\r\n        return (\r\n            <Carousel className=\"p-5 h-50 w-50 float-end\" showIndicators=\"false\" autoPlay=\"true\" infiniteLoop=\"true\">\r\n                <div>\r\n                    <img src=\"link.png\"  alt=\"img1\"/>\r\n                    <p className=\"legend\">Legend 1</p>\r\n                </div>\r\n                <div>\r\n                    <img src=\"planify.png\" alt=\"img2\"/>\r\n                    <p className=\"legend\">Legend 2</p>\r\n                </div>\r\n                <div>\r\n                    <img src=\"log.png\"  alt=\"img1\"/>\r\n                    <p className=\"legend\">Legend 3</p>\r\n                </div>\r\n            </Carousel>\r\n        );\r\n    }\r\n};\r\n\r\nexport default DemoCarousel;","import React,{useState,useEffect} from \"react\";\r\nimport { Link,useLocation,useHistory } from \"react-router-dom\";\r\nimport { Container, Grow, Grid , Button } from '@material-ui/core';\r\nimport DemoCarousel from '../logged.js';\r\n\r\n\r\n\r\nconst intialState={roomid:''};\r\nexport const Home =()=>{\r\n  \r\n\r\n  const [roomID,setRoomID] = useState(intialState);\r\n  const [user,setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const clickHere = () => {\r\n        sessionStorage.setItem('user', user.result.firstname + ' ' + user.result.lastname);\r\n        \r\n        history.push('/room');\r\n        window.location.reload();\r\n};\r\n  useEffect(()=>{\r\n    setUser(JSON.parse(localStorage.getItem('profile')));\r\n  },[location]);\r\n  \r\n  \r\n    return(\r\n      <Container maxWidth=\"lg\">\r\n        <Grow in>\r\n          <Container>\r\n            <Grid container justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3}>\r\n              <Grid item xs={12} sm={7}>\r\n                {user ? (\r\n                  <Grid >\r\n                    <Button  onClick={clickHere}>Click here</Button>\r\n                  </Grid>  \r\n                  ) : (\r\n                  <div >\r\n                  <h3 className=\"\">Welcome to Garage d'Etude!</h3>\r\n                  <h5 className=\"\">Garage d'Etude is a platform in which you can study or teach online!</h5>\r\n                  <br></br>\r\n                  <br></br>\r\n                  <Button component={Link} to=\"/auth\" variant=\"contained\">start your class </Button>\r\n                  </div> \r\n                )\r\n                }             \r\n              </Grid>\r\n              <Grid item xs={12} sm={4}>\r\n                  <DemoCarousel/>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Grow>\r\n      </Container>\r\n  )\r\n};\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route,Redirect } from \"react-router-dom\";\nimport Room from \"./Room\";\nimport {Nav} from './components/NavBar/nav.js';\nimport {Auth} from './components/Auth/Auth.js';\nimport {Home} from './components/Home/home.js';\nimport \"antd/dist/antd.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport Footer from \"./components/Footer/Footer\";\nconst App = () => {\n  return (\n    <Router>\n      <Nav/>\n      <Switch>\n\t\t\t\t\t<Route exact path=\"/auth\" component={Auth} />\n\t\t\t\t\t<Route exact path=\"/home\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/room\" component={Room} />\n          <Redirect from=\"/\" to=\"home\" />\n      </Switch>\n      <Footer />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { reducers } from './reducers';\nimport App from \"./App\";\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}